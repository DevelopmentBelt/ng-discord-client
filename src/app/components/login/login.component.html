<canvas id="svgBlob"></canvas>

<div class="absolute w-screen h-screen grid place-items-center bg-cover bg-no-repeat bg-center" style="background-image: url('https://wallpaperaccess.com/full/3053366.png');">
  <form class="p-8 bg-discord-medium rounded-md shadow-lg max-w-md w-full mx-4" [formGroup]="form" (ngSubmit)="login()">
    <div class="text-center">
      <div class="flex flex-col items-center">
        <div class="text-2xl font-semibold text-discord-text-lighter mb-2">Welcome back!</div>
        <div class="text-base text-discord-text-muted mb-5">We're so excited to see you again!</div>

        @if (errorMessage()) {
          <div class="bg-red-400 text-white p-3 rounded mb-5 text-sm font-medium text-center border border-red-500">
            {{ errorMessage() }}
          </div>
        }

        <div class="w-full mb-5">
          <div class="mb-5">
            <h5 class="text-xs font-semibold text-discord-text-muted uppercase mb-2 text-left">
              Email or Username
              @if (identifierError) {
                <span class="text-red-400 font-normal italic normal-case ml-1">{{ identifierError }}</span>
              }
            </h5>
            <div class="relative">
              <input 
                type="text" 
                formControlName="identifier" 
                required 
                name="identifier" 
                id="logidentifier" 
                autocomplete="username" 
                placeholder="Enter your email or username"
                class="w-full h-10 px-3 font-medium text-base leading-6 tracking-wide text-discord-text bg-discord-dark border border-discord-border rounded outline-none transition-colors duration-200 hover:border-black focus:border-discord-blue"
                [class.border-red-500]="identifierError"
              >
              <i class="uil uil-user absolute right-3 top-1/2 transform -translate-y-1/2 text-discord-text"></i>
            </div>
          </div>
          <div class="mb-5">
            <h5 class="text-xs font-semibold text-discord-text-muted uppercase mb-2 text-left">
              Password
              @if (passwordError) {
                <span class="text-red-400 font-normal italic normal-case ml-1">{{ passwordError }}</span>
              }
            </h5>
            <div class="relative">
              <input 
                type="password" 
                formControlName="password" 
                required 
                name="password" 
                id="logpass" 
                autocomplete="on"
                class="w-full h-10 px-3 font-medium text-base leading-6 tracking-wide text-discord-text bg-discord-dark border border-discord-border rounded outline-none transition-colors duration-200 hover:border-black focus:border-discord-blue"
                [class.border-red-500]="passwordError"
              >
              <i class="uil uil-lock-alt absolute right-3 top-1/2 transform -translate-y-1/2 text-discord-text"></i>
            </div>
          </div>
        </div>
        <div class="text-right mb-5">
          <a href="#" class="text-discord-blue hover:underline text-sm font-medium">Forgot your password?</a>
        </div>
        <div class="w-full">
          <button 
            type="submit" 
            class="w-full h-11 bg-discord-blue text-white rounded font-medium text-sm uppercase tracking-wider transition-all duration-200 hover:bg-discord-blue-dark hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed"
            [disabled]="isLoading()"
          >
            @if (isLoading()) {
              <span class="inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></span>
              Logging in...
            } @else {
              Login
            }
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
