<div id="angcord-content">
  <div id="messages-container">
    <!-- Messages -->
    @for (msg of messageList; track msg; let i = $index) {
      <div class="message-object">
        <div class="message-row">
            <div class="message-avatar">
              @if (i == 0 || messageList[i-1]?.author?.userId != msg.author.userId) {
                <img class="img-fluid pro-pic" src="{{ msg.author.profilePic }}" />
              } @else {
                <span class="datetime-label">{{ msg.postedTimestamp | datetimeFormatter: 'h:mm A' }}</span>
              }
            </div>
            <div class="message-content">
              <div class="message-header">
                @if (i == 0 || messageList[i-1]?.author?.userId != msg.author.userId) {
                  <span class="username-label">{{ msg.author.username }}</span>
                  <span class="px-2 datetime-label">{{ msg.postedTimestamp | datetimeFormatter: 'MM/DD/YYYY h:mm A' }}</span>
                }
              </div>
              <div class="message-body">
                <p class="message-data text-wrap text-break">{{ msg.text }}</p>
              </div>
            </div>
        </div>
      </div>
    }
  </div>
  <div class="message-input-container">
    <!-- Message Input -->
    <input type="text" #messageBox id="chatbox" (keydown)="handleKeyDownEvent($event);" (submit)="postMessage(messageBox.value); messageBox.value = '';" [placeholder]="'Message #general'" />
  </div>
</div>
